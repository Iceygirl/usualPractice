<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
div { width:100px; height:100px; border:1px solid #333; float:left; }
</style>
</head>

<body>

<div></div>
<div></div>
<div></div>
<div></div>
<div></div>

<script>
var aDiv = document.getElementsByTagName('div');
var iNow = -1;

for (var i=0; i<aDiv.length; i++) {
	aDiv[i].index = i;
	aDiv[i].onmouseover = function () {
		
		fnClear();
		
		for (var i=0; i<=this.index; i++) {
			if ( this.index < 2 ) {
				aDiv[i].style.background = 'gray';
			}
			else {
				aDiv[i].style.background = 'red';
			}
		}
	};
	aDiv[i].onmouseout = function () {
		fnClear();
		
		for (var i=0; i<=iNow; i++) {
			if ( this.index < 2 ) {
				aDiv[i].style.background = 'gray';
			}
			else {
				aDiv[i].style.background = 'red';
			}
		}
	};
	aDiv[i].onclick = function () {
		iNow = this.index;
	};
}

function fnClear() {
	for (var i=0; i<aDiv.length; i++) {
		aDiv[i].style.background = '';
	}
}
</script>

</body>
</html>
