<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>无标题文档</title>
<script>

//新添加的元素还有之前的事件，因为委托给父级
//新浪微博的事件委托
window.onload = function(){

	var oUl = document.getElementById('ul1');
	var aLi = oUl.getElementsByTagName('li');
	var oInput = document.getElementById('input1');
	var iNow = 4;
	
	/*for(var i=0;i<aLi.length;i++){
		aLi[i].onmouseover = function(){
			this.style.background = 'red';
		};
		
		aLi[i].onmouseout = function(){
			this.style.background = '';
		};
	}*/
	
	
	oUl.onmouseover = function(ev){
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		
		if(target.nodeName.toLowerCase() == 'li'){
			target.style.background = 'red';
		}
	
	};
	
	oUl.onmouseout = function(ev){
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		
		if(target.nodeName.toLowerCase() == 'li'){
			target.style.background = '';
		}
		
	};
	
	oInput.onclick = function(){
	
		iNow++;
		var oLi = document.createElement('li');
		oLi.innerHTML = 1111 * iNow;
		oUl.appendChild(oLi);
	
	};

};

</script>
</head>

<body>
<input type="button" value="添加" id="input1" />
<ul id="ul1">
	<li>111</li>
    <li>222</li>
    <li>333</li>
    <li>444</li>
</ul>
</body>
</html>
