<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 body,ul { margin:0; padding:0;}
 li { list-style:none;}
 img { border:none;}
 a { text-decoration:none;}
 
 .picTab { width:600px; height:400px; background:#333; /*filter:alpha(opacity=60); opacity:0.6;*/ position:relative;z-index:0;}
 .picTab span { font-size:26px; color:#fff; font-weight:bold;}
 .picTab img { width:400px; height:300px; position:absolute; left:100px; top:50px; z-index:1;}
 .picTab .prev, .picTab .next{ display:block; width:30px; height:30px; background:#000; filter:alpha(opacity=70); opacity:0.7; line-height:30px; text-align:center; color:#fff; font-size:20px; position:absolute; top:175px; z-index:2;}
 .picTab .prev { left:130px;}
 .picTab .next { right:130px;}
 .picTab ul { position:absolute; top:360px; left:0;}
 .picTab ul li{ float:left; width:20px; height:20px; background:#CCC; margin-right:10px; position:relative; cursor:pointer;}
 .picTab ul div{ width:80px; height:80px; background:#000;position:absolute; top:-70px; left:10px; display:none;}
 .picTab div img { width:80px; height:80px; position:absolute; left:0; top:0; z-index:3;}
 .picTab .active { background:#F96;}
</style>
<script>
 window.onload = function (){
	 var oDiv = document.getElementsByTagName('div')[0];
	 var oUl = oDiv.getElementsByTagName('ul')[0];
	 var aLi = oUl.getElementsByTagName('li');
	 var oImg = oDiv.getElementsByTagName('img')[0];
	 var aA = oDiv.getElementsByTagName('a');
	 var oPrev = aA[0];
	 var oNext = aA[1];
	 var arrUrl = ['1.jpg','2.jpg','3.jpg','4.jpg'];
	 var num=0;
	 
	 oImg.src = 'img/'+arrUrl[num];
	
	 for(var i=0;i<arrUrl.length;i++){
		oUl.innerHTML += '<li><div><img src="'+'img/'+arrUrl[i]+'"/></div></li>'; 
	 }
	 
	 oUl.style.left = (600-aLi.length*aLi[0].offsetWidth)/2+'px';
	 
	 for(var i=0;i<aLi.length;i++){
		aLi[i].index =i;
		
		aLi[i].onmouseover = function (){
			this.getElementsByTagName('div')[0].style.display = 'block';	
		}
		
		aLi[i].onmouseout = function (){
			this.getElementsByTagName('div')[0].style.display = 'none';	
		}
		
		aLi[i].onclick = function (){
			
			for(var i=0;i<aLi.length;i++){
				if(i!= this.index){
					aLi[i].className = '';	
				}
			}
			
			this.className = 'active';
			oImg.src = 'img/'+arrUrl[this.index];	
		}
	 }
	 
	 oPrev.onclick = function (){
		num--;
		if(num == -1){
			num = 0;	
		}
		oImg.src = 'img/'+arrUrl[num];
	 };
	 
	 oNext.onclick = function (){
		num++;
		if(num>arrUrl.length-1){
			num = arrUrl.length -1;	
		}
		oImg.src = 'img/'+arrUrl[num];
	 };
 };
</script>
</head>

<body>
<div class="picTab">
	<span>带缩略图的图片轮换</span>
    <img src="" alt="loading"/>
    <a class="prev" href="javascript:;"><</a>
    <a class="next" href="javascript:;">></a>
    <ul></ul>
</div>
</body>
</html>
