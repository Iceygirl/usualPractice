<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 body,p,input { margin:0; padding:0;}
 a { text-decoration:none;}
 img { border:none; vertical-align:top;}
 
 body { position:relative;}
 .box { width:400px; height:400px; border:10px solid #999; position:absolute; top:40px; left:20px; background:url(img/loading.gif) no-repeat center center;}
 .box .topBg, .box .footBg { width:400px; height:30px; background:#000; filter:alpha(opacity=70); opacity:0.7; position:absolute; left:0; z-index:1; text-align:center;}
 .box .topBg { top:0;}
 .box .footBg { bottom:0;}
 .topBg span,.footBg span{ line-height:30px; color:#fff; z-index:2;}
 .img { width:400px; height:400px; z-index:0;}
 .prev, .next { display:block; width:50px; height:50px; background:#fff; filter:alpha(opacity=70); opacity:0.7; font-size:30px; line-height:50px; text-align:center; z-index:2; color:#000; position:absolute; top:175px;}
 .prev { left:30px;}
 .next { right:30px;}
 
 .round ,.order { position:absolute; top:470px;}
  .round { left:170px;} 
  .order { left:240px;} 
 .message { position:absolute; top:500px; left:20px;}
</style>
<script>
 function getByClass(oPar,sClass){
	var arr = [];
	var aEle = oPar.getElementsByTagName('*');
	
	for(var i=0;i<aEle.length;i++){
		if(aEle[i].className == sClass){
			arr.push(aEle[i]);	
		}
	}
	return arr[0];
 };
 
 window.onload = function (){
	 var oBox = getByClass(document,'box');
	 var oPrev = getByClass(oBox,'prev');
	 var oNext = getByClass(oBox,'next');
	 var oNum = getByClass(oBox,'num');
	 var oText = getByClass(oBox,'text');
	 var oImg = getByClass(oBox,'img');
	 var oRound = getByClass(document,'round');
	 var oOrder = getByClass(document,'order');
	 var oMess = getByClass(document,'message');
	 
	 var arrUrl = ['1.jpg','2.jpg','3.jpg','4.jpg'];
	 var arrText = ['图一','图二','图三','图四'];
	 var num = 0;
	 var onOff = true;
	 
	 function fnTab (){
		oNum.innerHTML = 1+num+'/'+arrUrl.length;
		oText.innerHTML = arrText[num];
		oImg.src = 'img/'+arrUrl[num]; 
	 };
	 fnTab();
	 
	 oPrev.onclick = function (){
		num--;
		if(num == -1){
			if(onOff){
				num = arrUrl.length -1;	
			} else {
				alert('不好意思，这已经是第一张了！');
				num =0;
			}
		}
		fnTab();
	 };
	 
	 oNext.onclick = function (){
		num++;
		if(num == arrUrl.length){
			if(onOff){
				num=0;	
			} else {
				alert('不好意思，这已经是最后一张了！');	
				num = arrUrl.length-1;	
			}
		}
		fnTab();
	 };
	 
	 oRound.onclick = function (){
		onOff = true;
		oMess.innerHTML = '注：循环切换可从最后一张到第一张';
	 }
	 
	 oOrder.onclick = function (){
		onOff = false;
		oMess.innerHTML = '注：顺序切换只能从第一张或者最后一张切换'; 
	 };
 };
</script>
</head>

<body>
<div class="box">
	<div class="topBg">
    	<span class="num">数量正在加载中..</span>
    </div>
    <div class="footBg">
    	<span class="text">文字正在加载中...</span>
    </div>
    <img src="" alt="loading" class="img"/>
    <a class="prev" href="javascript:;"><</a>
    <a class="next" href="javascript:;">></a>
</div>
<input type="button" value="循环切换" class="round"/>
<input type="button" value="顺序切换" class="order"/>
<p class="message"></p>
</body>
</html>
