<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 div { width:270px; height:300px; background:#FFC; border:4px solid #FC9; overflow:auto;}
 img { width:30px; height:30px; border:1px solid #999; cursor:pointer;}
 p { height:30px; margin-bottom:5px; word-break:break-all; word-wrap:break-word; overflow:hidden; position:relative;}
 p img { position:absolute; top:0; border:none;}
 .left img { left:0;}
 .right img { right:0;}
 
 .left span , .right span { display:inline-block; height:30px; line-height:30px; padding:0 6px; color:#fff;}
 .left span { padding-left:36px; background:#39F;}
 .right span { padding-right:36px; background:#F63; float:right;}

 
 
</style>
<script>
 window.onload = function(){
	var oDiv = document.getElementsByTagName('div')[0];
	var oImg = document.getElementsByTagName('img')[0];
	var aInp = document.getElementsByTagName('input');
	var oBtn = aInp[1];
	var oText = aInp[0]; 
	var onOff = true;
	
	oImg.onclick = function (){
		if(onOff){
			oImg.src = 'img/girl.png';	
			onOff = false;
		} else {
			oImg.src = 'img/boy.png';	
			onOff = true;
		}
	}
	
	oBtn.onclick = function (){
		var pClass = '';
		if(onOff){
			pClass = 'left';	
		} else {
			pClass = 'right';	
		}
		oDiv.innerHTML = '<p class="'+pClass+'">'+'<img src="'+oImg.src+'"/>'+'<span>'+oText.value+'</span>'+'</p>'+oDiv.innerHTML;
		oText.value = '';
	};
	
 };
</script>
</head>

<body>
<div>
</div>
<img src="img/boy.png" alt="boy"/>
<input type="text" />
<input type="button" value="发送" />
<p>注：点击头像切换人物发送信息</p>
</body>
</html>
