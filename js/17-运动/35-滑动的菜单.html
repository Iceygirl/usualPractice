<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 body,ul { margin:0; padding:0;}
 li { list-style:none;}
 ul { width:400px; height:30px; margin:50px auto; position:relative;}
 li { width:98px; height:28px; border:1px solid #000; float:left; line-height:28px; text-align:center; z-index:2;}
 .bg { width:100px; height:30px; background:red; border:none; filter:alpha(opacity=30); opacity:0.3; z-index:1; position:absolute; top:0; left:0; }
</style>
<script>
 window.onload = function (){
	var oUl = document.getElementsByTagName('ul')[0];
	var aLi = oUl.getElementsByTagName('li');
	var oBg = aLi[aLi.length-1];
	for(var i=0;i<aLi.length-1;i++){
		
		aLi[i].onmouseover = function(){
			startMove(oBg,this.offsetLeft);
		};
		
	}
 }
 
 //需要解决速度是小数带来的1,2个像素的问题
 var iSpeed = 0;
 var left = 0;
 function startMove(obj,iTarget){
	 clearInterval(obj.timer);
	 obj.timer = setInterval(function (){
		 iSpeed+=(iTarget - obj.offsetLeft)/5;
		 iSpeed*=0.7;
		 
		 if(Math.abs(iSpeed)<1 && Math.abs(left-iTarget)<1){
			 clearInterval(obj.timer);
			 obj.style.left = iTarget +'px';
		 } else {
			 left+=iSpeed;
		 	 obj.style.left = left+'px';
		 }
	 },30);
 }
</script>
</head>

<body>
<ul>
	<li>首页</li>
    <li>产品</li>
    <li>关于我们</li>
    <li>联系我们</li>
    <li class="bg"></li>
</ul>
</body>
</html>
