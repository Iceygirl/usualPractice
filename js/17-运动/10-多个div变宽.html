<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 div { width:30px; height:30px; background:#633; margin-top:30px;}
</style>
<script>
 window.onload = function (){
	var aDiv = document.getElementsByTagName('div');
	
	for(var i =0;i<aDiv.length;i++){
	   aDiv[i].timer = null;
	   aDiv[i].onmouseover = function (){
		   startMove(this,300);
	   };
	   
	   aDiv[i].onmouseout = function (){
		   startMove(this,60);	   
	   };
	}
 };
 
 function startMove(obj,iTarget){
	 
	 clearInterval(obj.timer);
	 obj.timer = setInterval(function (){
		 var iSpeed = (iTarget - obj.offsetWidth)/8;
		 iSpeed = iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
		 
		 if(obj.offsetWidth == iTarget){
			clearInterval(obj.timer); 
		 } else {
			obj.style.width = obj.offsetWidth +iSpeed +'px'; 
		 }
	 },30);
 };
 
 /*timer不能公用
 还有offsetWidth会出现错误*/
</script>
</head>

<body>
<div></div>
<div></div>
<div></div>
</body>
</html>
