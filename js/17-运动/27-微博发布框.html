<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
  #list{ width:300px; height:300px; border:1px solid #000;}
  #list div { padding:2px; border-bottom:1px dashed #000; filter:alpha(opacity=0); opacity:0; overflow:hidden;}
</style>
<script src="zmx-prefect.js"></script>
<script>
 window.onload = function (){
	var oText = document.getElementById('text');
	var oBtn = document.getElementById('btn');
	var oList = document.getElementById('list');
	
	oBtn.onclick = function (){
		var oDiv = document.createElement('div');
		
		oDiv.innerHTML = oText.value;
		
		var aDiv = oList.getElementsByTagName('div');
		if(aDiv.length){
			oList.insertBefore(oDiv,aDiv[0]);	
		} else{
			oList.appendChild(oDiv);	
		}
		oText.value='';
		
		var iHeight = oDiv.offsetHeight;
		startMove(oDiv,{ height:iHeight}, function (){
			startMove(oDiv,{ opacity:100});	
		});
	};
 };
</script>
</head>

<body>
<textarea id="text" rows="10" cols="40"></textarea>
<input id="btn" type="button" value="发布" />
<div id="list">
</div>
</body>
</html>
