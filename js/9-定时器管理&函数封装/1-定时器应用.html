<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
#div { width:100px; height:100px; background:red; position:absolute; top:30px; left:30px;}
</style>
<script>
	window.onload = function(){
		var oBtn1 = document.getElementById('btn1');
		var oBtn2 = document.getElementById('btn2');
		var oDiv = document.getElementById('div');
		
		oBtn1.onclick = function (){
			var speed = 0;
			clearInterval(oDiv.timer);
			oDiv.timer = setInterval(function (){
				speed = parseInt(getStyle(oDiv,'left'))+12;	//走的距离
				
				if(speed >800){
					speed = 800;	
				}
				oDiv.style.left = speed + 'px';
				
				if(speed ==800){
					clearInterval(oDiv.timer);	
				}
			},30);
		};
		
		oBtn2.onclick = function (){
			var speed = 0;
			clearInterval(oDiv.timer);
			oDiv.timer = setInterval(function (){
				speed = parseInt(getStyle(oDiv,'left'))-12;	
				
				if(speed <10){
					speed = 10;	
				}
				oDiv.style.left = speed + 'px';
				
				if(speed ==10){
					clearInterval(oDiv.timer);	
				}
			},30);
		};
		
		function getStyle(obj,attr){
			return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj,0)[attr];
		};
		
	};
</script>
</head>

<body>
<input type="button" value="往前走" id="btn1" />
<input type="button" value="往后走" id="btn2" />
<div id="div"></div>
</body>
</html>
